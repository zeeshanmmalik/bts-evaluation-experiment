{
    "project": "Mozilla", 
    "original_link": "http://dont.know.yet/466580", 
    "comments": [
        {
            "date": "2008-11-24 17:36:16", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=349893) [details]\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Live HTTP Headers output\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "When trying to access\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "https://preview.addons.mozilla.org/en-US/firefox/api/1.3/feed/1 from bug\n456142, I sometimes get a blank page.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I've captured the Live HTTP Headers output and attached it, above.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "Stephen Donner [:stephend]", 
            "email": "Stephen Donner [:stephend]"
        }, 
        {
            "date": "2008-11-25 07:47:07", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "I suspect this may be caused by a clobbering of the DB change needed for the\nfeed:\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "https://bugzilla.mozilla.org/show_bug.cgi?", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "id=465569#c3\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-03 10:28:45", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Wrong lorchard assignee again :)\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 08:29:17", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "So, per bug 465569, it seems that a missing column is not a culprit here.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " Ugh.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Thinking out loud here, in lieu of access to preview error logs and hoping\nsomeone might have some ideas:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "* The blank results appear to be intermittent.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  But, when they happen, they get\ncached and stick around.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Throwing random parameters onto the URL to defeat\ncache appears to show the feed working pretty reliably.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "* Sometimes generating the feed output takes upwards of 10 seconds.  Not sure\nwhy, but I'm going to poke at profiling / optimizing on my dev machine.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "* Given the long response times, is there a timeout on the caching proxy that\nwould cause a blank result by giving up on the origin server and caching the\nblank?\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 12:54:25", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "I've run the bandwagon feed through Xdebug and KCachegrind and found that one\nspot where I used $this->publish() to handle some modified addons data caused\nover 1M recursive calls to _sanitizeArrayForXML().", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "  I'm going to assume that\nthis caused the lengthy response times and in turn caused blank pages to be\ncached.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Not exactly sure why that happened, but when I switch to $this->set(), the\ncount drops to 116.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  I think this should be safe, because the data added to the\nalready-sanitized array should itself also be clean.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "So, I've gone ahead and checked this in and will try checking it on preview\nafter waiting awhile for a sync.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  I'll also keep poking at the issue to see why\nthe number of calls were so high.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 13:28:30", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Okay, I think this is fixed now.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "  Might still give optimization a few more\npokes, but now it looks like it's in the realm of DB hits instead of\nsanitization calls.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 14:04:15", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Per bug 456142, that sanitizing tweak didn't fix things.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 19:26:40", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=352251) [details]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "optimization patch for publish()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Took a crack at optimizing the XML string sanitizing here, but I want to get a\nreview before checking in to try it on preview.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "From KCachegrind comparisons, this revision takes the number of calls to\n_sanitizeArrayForXML from 1M down to 57k for the Fashion Your Firefox feed (35\nitems).", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  It also cuts the response time by a few orders of magnitude on my\nlaptop as well.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I wish I'd caught this performance issue beforehand, but I'd only been using\nfeeds of 2-5 items on my dev machine.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-09 19:28:27", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Oh, and why so many calls to _sanitizeArrayForXML?", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Well, the addons data array\nis very deeply nested and contains quite a lot of detail about the addons,\nversions, authors, etc.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "  Next steps might be to further pare down that array to\ninclude just what should show up in the feed, but taking it this far should fix\nthe immediate problem of blank feed results\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-10 02:22:17", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "(From update of attachment 352251 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This looks ok for me.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  We should make sure to test the existing API calls\n(stephend?", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  :) ) to make sure we haven't regressed anything.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Laura Thomson :laura", 
            "email": "Laura Thomson :laura"
        }, 
        {
            "date": "2008-12-10 08:08:36", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Checked the patch in as r20694\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Other API calls look okay to me, but I haven't given it a serious battering or\nanything.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Hopefully this does it\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-10 10:30:31", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Reopening because this is sadly still happening.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Stephen Donner [:stephend]", 
            "email": "Stephen Donner [:stephend]"
        }, 
        {
            "date": "2008-12-12 14:32:55", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Looking at this some more on khan, I get the following intermittent error:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP Stack trace:\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   1.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " {main}()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/webroot/index.php:0\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   2.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Dispatcher->dispatch()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/webroot/index.php:82\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   3.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Dispatcher->_invoke()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/cake/dispatcher.php:245\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   4.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "call_user_func_array()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/cake/dispatcher.php:263\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   5.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->collections_feed()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/cake/dispatcher.php:0\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   6.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->publish()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:492\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   7.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:936\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   8.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:982\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP   9.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:982\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP  10.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:982\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP  11.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:982\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP  12.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ApiController->_sanitizeArrayForXML()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:982\n[Fri Dec 12 14:30:23 2008] [error] [client 10.2.72.11] PHP  13.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " preg_replace()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php:988\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "So, while I think there's some caching magic yet to be dealt with, this\nintroduces a new wrinkle.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-12 14:33:33", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Oh, wait, I left out the first and most important line of the error:\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "[Fri Dec 12 14:31:27 2008] [error] [client 10.2.72.11] PHP Fatal error: \nAllowed memory size of 16777216 bytes exhausted (tried to allocate 89 bytes) in\n/home/lorchard/devel/mozilla/addons-trunk/site/app/controllers/api_controller.php\non line 988\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-22 18:31:16", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Okay.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Finally, I think r21186 should fix this.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "l.m.orchard [:lorchard]", 
            "email": "l.m.orchard [:lorchard]"
        }, 
        {
            "date": "2008-12-22 20:01:43", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Verified FIXED, w00t!\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "https://preview.addons.mozilla.org/en-US/firefox/api/1.3/feed/1 is now\nreturning the feed data 100% of the time for me (been checking off and on for ~\n2 hours, now).\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "Stephen Donner [:stephend]", 
            "email": "Stephen Donner [:stephend]"
        }
    ], 
    "title": "Blank pages trying to access the Bandwagon feed API"
}