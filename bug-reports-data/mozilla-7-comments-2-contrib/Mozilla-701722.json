{
    "contributors": [
        [
            "Mark Finkle (:mfinkle)", 
            "lexrank"
        ], 
        [
            "Dave Hunt (:davehunt)", 
            "email"
        ], 
        [
            "Catalin Suciu", 
            "lexrank"
        ]
    ], 
    "title": "Multiple cancel prompts generated by tapping in-progress downloads several times", 
    "comments": [
        {
            "date": "2011-11-11 08:05:52", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "It's possible to tap the in-progress download multiple times by ignoring the cancel prompt. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This causes multiple prompts to build up. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "If you never choose to cancel the download then after the download is complete and you return to Fennec you then must dismiss all accumulated prompts. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "If you do choose to cancel the download then the download is cancelled and the file is not opened, but you still need to dismiss all of the prompts.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Steps to reproduce:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "1. Start a download for a large file (to give you time to complete these steps)\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "2. Bring up the Android download manager\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "3. Tap the in-progress download\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "4. Ignore the cancel prompt, and bring up the Android download manager\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "5. Tap the in-progress download\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "6. Repeat 4 & 5 as many times as you wish\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Expected:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Subsequently tapping the in-progress download should focus the existing cancel prompt.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Actual:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "New cancel prompts pop up on top of the existing ones. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This means all must be dismissed before you can return to Fennec.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Dave Hunt (:davehunt)", 
            "email": "Dave Hunt (:davehunt)"
        }, 
        {
            "date": "2011-11-11 16:00:11", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created attachment 573949 [details] [diff] [review]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "patch\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I'm somewhat confused as to how we can re-enter that JS code if it's blocked on confirmEx. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This feels kind of hacky, but it fixes the problem. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I'm curious if you have ideas for a better solution.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Margaret Leibovic [:margaret]", 
            "email": "Margaret Leibovic [:margaret]"
        }, 
        {
            "date": "2011-11-11 16:01:17", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Also, if the download finishes while the prompt is showing, the prompt becomes useless. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Is there a way to dismiss it once the download finishes? ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Maybe we can file another bug about that.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Margaret Leibovic [:margaret]", 
            "email": "Margaret Leibovic [:margaret]"
        }, 
        {
            "date": "2011-11-14 18:29:00", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "I betting Gavin didn't want to change the priority\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Mark Finkle (:mfinkle)", 
            "email": "Mark Finkle (:mfinkle)"
        }, 
        {
            "date": "2011-11-14 18:35:58", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Comment on attachment 573949 [details] [diff] [review]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "patch\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  showAlert: function dl_showAlert(aDownload, aMessage, aTitle, aIcon) { \n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">     let self = this;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">+    // Use this flag to make sure we only show one prompt at a time\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Add a blank line before the comment\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">+    let cancelPromptShowing = false;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\"cancelPrompt\" is enough IMO\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This patch does fix the problem, but as you suggest, it's a bit hacky. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "You mention that we need a way to dismiss a prompt. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "If we had that API, I would suggest using it to cancel an existing prompt. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "That way we could cancel prompts when a new prompt is needed (this bug) and cancel the prompt if the download finishes (a different bug).\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "It would seem a bit cleaner that way.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "r+ though since this addresses the immediate issue.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "File a new bug on adding a way to dismiss prompts, and we can use it to fix this bug a little better too.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Mark Finkle (:mfinkle)", 
            "email": "Mark Finkle (:mfinkle)"
        }, 
        {
            "date": "2011-11-15 10:57:44", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "(In reply to Mark Finkle (:mfinkle) from comment #4)\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "> File a new bug on adding a way to dismiss prompts, and we can use it to fix > this bug a little better too.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Filed bug 702693.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Margaret Leibovic [:margaret]", 
            "email": "Margaret Leibovic [:margaret]"
        }, 
        {
            "date": "2011-11-15 12:33:26", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "https://hg.mozilla.org/projects/birch/rev/f5c60c4ec1ed\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Margaret Leibovic [:margaret]", 
            "email": "Margaret Leibovic [:margaret]"
        }, 
        {
            "date": "2011-11-18 04:43:24", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Verified fix on:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Mozilla/5.0 (Android;Linux armv7l;rv:11.0a1)Gecko/20111117 Firefox/11.0a1 Fennec/11.0a1\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "Catalin Suciu", 
            "email": "Catalin Suciu"
        }
    ], 
    "id": "701722", 
    "project": "Mozilla", 
    "original_link": "https://bugzilla.mozilla.org/show_bug.cgi?id=701722"
}