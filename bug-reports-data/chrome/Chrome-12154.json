{
    "contributors": [
        [
            "/u/mbelshe@chromium.org/", 
            "email"
        ], 
        [
            "/u/avi@chromium.org/", 
            "lexrank"
        ]
    ], 
    "title": "Crash: SafeBrowsingDatabaseBloom::Init", 
    "comments": [
        {
            "date": "2009-05-18 08:10:58", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "New crash in the reliability builder. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "It showed up Friday afternoon.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Implicated are svn revs 16196-16205 (though I can't see why any of them would do that):\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16196: estade\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16197: japhet\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16198: mpcomplete\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16199: tc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16200: ben\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16201: shess\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16202: erikkay\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16203: erg\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16204: sky\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "16205: glen\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "http://build.chromium.org/buildbot/waterfall/builders/Chromium%20Reliability/builds/2843/steps/reliability%3A%20partial%20result%20of%20current%20build/logs/stdio\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ":\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "WARNING: Stack unwind information not available. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Following frames may be wrong.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ntdll!RtlpWaitForCriticalSection+0x5b\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "ntdll!RtlEnterCriticalSection+0x46\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!tcmalloc::ThreadCache::FetchFromCentralCache+0x5d\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\third_party\\tcmalloc\\tcmalloc\\src\\thread_cache.cc\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 169]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!tcmalloc::ThreadCache::Allocate+0x58\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\third_party\\tcmalloc\\tcmalloc\\src\\thread_cache.h\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 361]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!`anonymous namespace'::do_malloc+0xb3\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\third_party\\tcmalloc\\tcmalloc\\src\\tcmalloc.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 633]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!`anonymous namespace'::cpp_alloc+0xf\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\third_party\\tcmalloc\\tcmalloc\\src\\tcmalloc.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 898]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!operator new+0x10\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\third_party\\tcmalloc\\tcmalloc\\src\\tcmalloc.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 1048]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!std::_Allocate<wchar_t>+0x6d [c:\\program files\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "(x86)\\microsoft visual studio 8\\vc\\include\\xmemory @ 44]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!std::basic_string<wchar_t,std::char_traits<wchar_t>,std::allocator<wchar_t>\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">::_Copy+0x49 [c:\\program files (x86)\\microsoft visual studio\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "8\\vc\\include\\xstring @ 2021]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!std::basic_string<wchar_t,std::char_traits<wchar_t>,std::allocator<wchar_t>\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">::append+0x9d [c:\\program files (x86)\\microsoft visual studio\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "8\\vc\\include\\xstring @ 976]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!std::operator+<wchar_t,std::char_traits<wchar_t>,std::allocator<wchar_t>\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">+0x49 [c:\\program files (x86)\\microsoft visual studio 8\\vc\\include\\string\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 55]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "chrome_2610000!SafeBrowsingDatabaseBloom::Init+0x73\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\chrome\\browser\\safe_browsing\\safe_browsing_database_bloom.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 61]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!SafeBrowsingService::GetDatabase+0x1c5\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\chrome\\browser\\safe_browsing\\safe_browsing_service.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 377]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!SafeBrowsingService::OnDBInitialize+0x6c\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\chrome\\browser\\safe_browsing\\safe_browsing_service.cc\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "@ 117]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!MessageLoop::RunTask+0x7e\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_loop.cc @ 310]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!MessageLoop::DoWork+0x1ea\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_loop.cc @ 431]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!base::MessagePumpDefault::Run+0x74\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_pump_default.cc @ 24]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!MessageLoop::RunInternal+0xb7\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_loop.cc @ 198]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!MessageLoop::RunHandler+0xa0\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_loop.cc @ 182]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!MessageLoop::Run+0x3d\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\message_loop.cc @ 156]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!base::Thread::ThreadMain+0x8a\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\thread.cc @ 159]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "chrome_2610000!`anonymous namespace'::ThreadFunc+0xd\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "[c:\\b\\slave\\chromium-rel-xp\\build\\src\\base\\platform_thread_win.cc @ 27]\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "kernel32!GetModuleFileNameA+0x1b4\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/avi@chromium.org/", 
            "email": "/u/avi@chromium.org/"
        }, 
        {
            "date": "2009-05-18 10:09:18", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "+ paul and mbelshe\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "So we have memory allocation failure when initializing safe browsing. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Mike, is it due  to out of memory? ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Any safe browsing change so we need much more memory during  initialization?\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/huanr@chromium.org/", 
            "email": "/u/huanr@chromium.org/"
        }, 
        {
            "date": "2009-05-18 10:38:57", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "I'd like to take this bug; ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I think it may be tcmalloc related. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " Let me know if you  think there is something specific to safebrowsing at play.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/mbelshe@chromium.org/", 
            "email": "/u/mbelshe@chromium.org/"
        }, 
        {
            "date": "2009-05-18 20:49:03", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Have a look at the ChromeBot crashes for 181:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "http://crash-staging/?product=Chrome&version=2.0.181.0-qemu\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "http://chromebot/buildsummary?id=official_2.0.181.0\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "This is a significant regression in browser crashes (0 ChromeBot browser crashes in  180, 89 in 181).\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "The crash is actually in ntdll after a call to SpinLock::Lock in tcmalloc's port.h:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "0x7c918fea\t [ntdll.dll\t + 0x00018fea]\t RtlpWaitForCriticalSection\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "0x7c90104a\t [ntdll.dll\t + 0x0000104a]\t RtlEnterCriticalSection\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "0x02930458\t [chrome.dll\t - port.h:148]\t SpinLock::Lock()\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "This should block the Dev release due to the spike in browser crashes.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/mal.chromium/", 
            "email": "/u/mal.chromium/"
        }, 
        {
            "date": "2009-05-18 22:47:49", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "I have a fix in the works on this which I will test tonight.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "/u/mbelshe@chromium.org/", 
            "email": "/u/mbelshe@chromium.org/"
        }, 
        {
            "date": "2009-05-18 22:57:00", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Excellent. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Note that this bug is caught by the normal reliability tests, so just  checking in will trigger a test of whether the fix works or not.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "/u/mal.chromium/", 
            "email": "/u/mal.chromium/"
        }, 
        {
            "date": "2009-05-19 00:29:01", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Fix checked in, but I can't be certain that it fixed the problem. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " I discovered that  the spinlock initialization code in tcmalloc is racey. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " Craig S fixed it. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " The symptom \n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "of crashing in the RtlEnterCriticalSection code is consistent with using an  uninitialized critical section, which is what would happen if we hit this race.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "We can wait for the reliability tests to see if the bug is still present.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/mbelshe@chromium.org/", 
            "email": "/u/mbelshe@chromium.org/"
        }, 
        {
            "date": "2009-05-19 07:07:31", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "mbelshe--\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I suppose you refer to r16362. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Thanks for taking this, but next time can you refer to the bug in the CL description? ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "That way the bugbot can link things up.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "In addition, we might not see this in the reliability tests since the tcmalloc traces are marked as known crashes. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Actually, there are a few tcmalloc traces in the known crasher lists (bugs 10901 and 10896 too). ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Would this fix take care of those too?\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/avi@chromium.org/", 
            "email": "/u/avi@chromium.org/"
        }, 
        {
            "date": "2009-05-19 08:56:42", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "I checked all 7 ChromeBot runs on trunk since 16362. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "(Each run covers about 8k-160k  URLs). ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "No crash with tcmalloc on stack. ", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "It is fixed.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/huanr@chromium.org/", 
            "email": "/u/huanr@chromium.org/"
        }, 
        {
            "date": "2009-05-19 09:02:47", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Duping this out against the earliest report -  bug 10896 .\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/mbelshe@chromium.org/", 
            "email": "/u/mbelshe@chromium.org/"
        }, 
        {
            "date": "2009-05-19 09:03:12", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "If so, then this bug,  bug 10901 , and  bug 10896  are fixed, and all the tcmalloc crashers should be removed from the known crashes file. ", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I'll leave that to mbelshe, but it's great work he's done.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/avi@chromium.org/", 
            "email": "/u/avi@chromium.org/"
        }, 
        {
            "date": "2009-12-18 00:29:14", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "(No comment was entered for this change.)\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "/u/mal.chromium/", 
            "email": "/u/mal.chromium/"
        }
    ], 
    "id": "12154", 
    "project": "Chrome", 
    "original_link": "http://code.google.com/p/chromium/issues/detail?id=12154"
}