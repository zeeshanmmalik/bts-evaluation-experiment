{
    "project": "Mozilla", 
    "original_link": "http://dont.know.yet/336477", 
    "comments": [
        {
            "date": "2006-05-03 12:07:37", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "this might not be a particularly reachable case, but the codepath seems to\nmostly exist to allow it.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "timeless", 
            "email": "timeless"
        }, 
        {
            "date": "2006-05-07 06:30:44", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=221176) [details]\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "timeless", 
            "email": "timeless"
        }, 
        {
            "date": "2006-05-10 19:16:45", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "(From update of attachment 221176 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "The variable named \"returned\" has gone out of scope before the point where this\npatch attempts to free it.\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }, 
        {
            "date": "2006-05-10 21:04:53", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Thanks for the bug report, timeless.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " This is a leak.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": " The function to call to\ndestroy a CachedCrl is CachedCrl_Destroy .", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": " It should be done unconditionally in\nCERT_UncacheCRL if CachedCrl_Create succeeded .\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-05-12 15:45:40", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=221863) [details]\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "proper fix\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-05-12 17:21:07", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "(From update of attachment 221863 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "r=nelson\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }, 
        {
            "date": "2006-05-12 17:34:31", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Thanks for the review, Nelson.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Checked in to NSS_3_11_BRANCH :\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Checking in crl.c;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/cvsroot/mozilla/security/nss/lib/certdb/crl.c,v  <--  crl.c\nnew revision: 1.49.24.1;", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " previous revision: 1.49\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "done\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "And tip :\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Checking in crl.c;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/cvsroot/mozilla/security/nss/lib/certdb/crl.c,v  <--  crl.c\nnew revision: 1.50;", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " previous revision: 1.49\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "done\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-05-15 16:23:20", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Julien, a problem with your patch \"proper fix\" is\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "that the old value of 'rv' set by a failed\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "CachedCrl_Compare call inside the for loop will be\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "lost if the CachedCrl_Destroy call succeeds.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Wan-Teh Chang", 
            "email": "Wan-Teh Chang"
        }, 
        {
            "date": "2006-05-15 17:15:12", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Yeah, I noticed that in review, but figured Julien must have believed \nthat's OK.", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Reopening to ask Julien about this.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }, 
        {
            "date": "2006-05-15 18:39:18", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=222132) [details]\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "better fix\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I wish you had given me this feedback during the review.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "The only return value that could be lost was from CachedCrl_Compare, which is\nnot very likely to happen, so the problem was minor.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "But I found that the code wasn't checking the return from DPCache_RemoveCRL .\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This is more serious.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This incremental patch fixes both issues.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-05-15 20:17:11", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "(From update of attachment 222132 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This makes sense to me.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "r=nelson\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }, 
        {
            "date": "2006-05-15 22:30:20", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "(From update of attachment 222132 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "r=wtc.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "This function has the following near the end:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    if (PR_TRUE !", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "= removed)\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    {\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "        rv = SECFailure;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    }\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    ...\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    if (PR_TRUE !", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "= removed)\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    {\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "        PORT_SetError(SEC_ERROR_CRL_NOT_FOUND);\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    }\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I'm wondering if these two should be combined.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  Also,\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "the PORT_SetError call may overwrite the existing error\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "code.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  So I'm wondering if these should be written as:\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    if (SECSuccess == rv && PR_TRUE !", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "= removed)\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    {\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "        rv = SECFailure;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "        PORT_SetError(SEC_ERROR_CRL_NOT_FOUND);\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "    }\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Wan-Teh Chang", 
            "email": "Wan-Teh Chang"
        }, 
        {
            "date": "2006-05-24 19:17:14", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "Created an attachment (id=223257) [details]\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "hopefully the last patch\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "Wan-Teh,\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Your last suggestion makes sense, so I added it to this patch.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Also, we weren't checking the status of SEC_DestroyCrl .", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " This patch does.\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-05-30 15:41:16", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "(From update of attachment 223257 [details])\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "r=nelson, with one proviso.", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "  This too-long line needs to be wrapped.\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "I suggest putting the comment on a separate line inside the basic block.\n", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": ">+    if (SECSuccess !", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "= SEC_DestroyCrl(oldcrl) ) { /* need to do this because object is refcounted */\n>+        rv = SECFailure;\n", 
                    "is_in_email_summary": true
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }, 
        {
            "date": "2006-05-30 18:59:08", 
            "sentences": [
                {
                    "is_in_lex_summary": true, 
                    "text": "Checked in to the tip :\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Checking in crl.c;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/cvsroot/mozilla/security/nss/lib/certdb/crl.c,v  <--  crl.c\nnew revision: 1.52;", 
                    "is_in_email_summary": true
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " previous revision: 1.51\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "done\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "And to NSS_3_11_BRANCH :\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": true, 
                    "text": "Checking in crl.c;\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "/cvsroot/mozilla/security/nss/lib/certdb/crl.c,v  <--  crl.c\nnew revision: 1.49.24.3;", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": " previous revision: 1.49.24.2\n", 
                    "is_in_email_summary": false
                }, 
                {
                    "is_in_lex_summary": false, 
                    "text": "done\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Julien Pierre", 
            "email": "Julien Pierre"
        }, 
        {
            "date": "2006-06-10 19:36:12", 
            "sentences": [
                {
                    "is_in_lex_summary": false, 
                    "text": "CId 415\n", 
                    "is_in_email_summary": false
                }
            ], 
            "name": "Nelson Bolyard (:MisterSSL)", 
            "email": "Nelson Bolyard (:MisterSSL)"
        }
    ], 
    "title": "Coverity CERT_UncacheCRL variable named \"returned\" is not freed if !removed"
}